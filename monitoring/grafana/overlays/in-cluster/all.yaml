apiVersion: v1
automountServiceAccountToken: false
kind: ServiceAccount
metadata:
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana
  namespace: monitoring
---
apiVersion: v1
kind: ServiceAccount
metadata:
  annotations:
    helm.sh/hook: test-success
    helm.sh/hook-delete-policy: before-hook-creation,hook-succeeded
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana-test
  namespace: monitoring
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana
  namespace: monitoring
rules: []
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana-clusterrole
rules:
- apiGroups:
  - ""
  resources:
  - configmaps
  - secrets
  verbs:
  - get
  - watch
  - list
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana
  namespace: monitoring
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: monitoring-grafana
subjects:
- kind: ServiceAccount
  name: monitoring-grafana
  namespace: monitoring
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana-clusterrolebinding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: monitoring-grafana-clusterrole
subjects:
- kind: ServiceAccount
  name: monitoring-grafana
  namespace: monitoring
---
apiVersion: v1
data:
  datasource.yaml: |-
    apiVersion: 1
    datasources:
      - name: Prometheus
        type: prometheus
        access: proxy
        url: http://monitoring-prometheus-server
        isDefault: true
      - name: Loki
        type: loki
        access: proxy
        url: http://monitoring-loki-distributed-query-frontend:3100
        jsonData:
          httpHeaderName1: 'X-Scope-OrgID'
        secureJsonData:
          httpHeaderValue1: 'management-cluster'
kind: ConfigMap
metadata:
  labels:
    grafana_datasource: "true"
  name: grafana-datasource
  namespace: monitoring
---
apiVersion: v1
data:
  loki-and-promtail.json: |-
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": {
              "type": "datasource",
              "uid": "grafana"
            },
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "type": "dashboard"
          }
        ]
      },
      "description": "Loki and Promtail metrics.",
      "editable": false,
      "fiscalYearStartMonth": 0,
      "gnetId": 10880,
      "graphTooltip": 0,
      "links": [],
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          },
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 0
          },
          "hiddenSeries": false,
          "id": 8,
          "interval": "",
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "10.4.1",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "expr": "avg_over_time(loki_ingester_chunk_entries_count[5m])",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Loki's stored chunk entries",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          },
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 0
          },
          "hiddenSeries": false,
          "id": 2,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "10.4.1",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "editorMode": "code",
              "expr": "rate (loki_distributor_ingester_appends_total[5m])",
              "range": true,
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Average batch appends sent to ingesters (Loki)",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          },
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 8
          },
          "hiddenSeries": false,
          "id": 6,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": false,
            "min": true,
            "rightSide": true,
            "show": true,
            "sort": "avg",
            "sortDesc": true,
            "total": true,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "10.4.1",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "expr": "sum (promtail_file_bytes_total{instance=~\".*\"}) by (instance)",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Number of bytes total by promtail",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          },
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 16
          },
          "hiddenSeries": false,
          "id": 4,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "10.4.1",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "editorMode": "code",
              "expr": "sum(rate(promtail_encoded_bytes_total{pod=~'.*'}[5m])) by (pod)",
              "format": "time_series",
              "instant": false,
              "legendFormat": "{{ pod }}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Number of bytes encoded and ready to send by Promtail",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "schemaVersion": 39,
      "tags": [],
      "templating": {
        "list": []
      },
      "time": {
        "from": "now-24h",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ]
      },
      "timezone": "",
      "title": "Loki/Loki & Promtail",
      "uid": "MQHVDmtWk",
      "version": 1,
      "weekStart": ""
    }
kind: ConfigMap
metadata:
  labels:
    grafana_dashboard: "true"
  name: loki-promtail-dashboard
  namespace: monitoring
---
apiVersion: v1
data:
  grafana.ini: |
    [analytics]
    check_for_updates = true
    [grafana_net]
    url = https://grafana.net
    [log]
    mode = console
    [paths]
    data = /var/lib/grafana/
    logs = /var/log/grafana
    plugins = /var/lib/grafana/plugins
    provisioning = /etc/grafana/provisioning
    [server]
    domain = grafana.k8s.integratn.tech
kind: ConfigMap
metadata:
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana
  namespace: monitoring
---
apiVersion: v1
data:
  provider.yaml: |-
    apiVersion: 1
    providers:
      - name: 'sidecarProvider'
        orgId: 1
        folder: ''
        folderUid: ''
        type: file
        disableDeletion: false
        allowUiUpdates: false
        updateIntervalSeconds: 30
        options:
          foldersFromFilesStructure: false
          path: /tmp/dashboards
kind: ConfigMap
metadata:
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana-config-dashboards
  namespace: monitoring
---
apiVersion: v1
data:
  run.sh: |-
    @test "Test Health" {
      url="http://monitoring-grafana/api/health"

      code=$(wget --server-response --spider --timeout 90 --tries 10 ${url} 2>&1 | awk '/^  HTTP/{print $2}')
      [ "$code" == "200" ]
    }
kind: ConfigMap
metadata:
  annotations:
    helm.sh/hook: test-success
    helm.sh/hook-delete-policy: before-hook-creation,hook-succeeded
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana-test
  namespace: monitoring
---
data:
  ingress-nginx.json:
    __elements: {}
    __inputs:
    - description: ""
      label: Prometheus
      name: DS_PROMETHEUS
      pluginId: prometheus
      pluginName: Prometheus
      type: datasource
    __requires:
    - id: grafana
      name: Grafana
      type: grafana
      version: 10.4.3
    - id: heatmap
      name: Heatmap
      type: panel
      version: ""
    - id: prometheus
      name: Prometheus
      type: datasource
      version: 1.0.0
    - id: stat
      name: Stat
      type: panel
      version: ""
    - id: table
      name: Table
      type: panel
      version: ""
    - id: timeseries
      name: Time series
      type: panel
      version: ""
    annotations:
      list:
      - builtIn: 1
        datasource:
          type: datasource
          uid: grafana
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        type: dashboard
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        enable: true
        expr: sum(changes(nginx_ingress_controller_config_last_reload_successful_timestamp_seconds{instance!="unknown",controller_class=~"$controller_class",namespace=~"$namespace"}[30s]))
          by (controller_class)
        hide: false
        iconColor: rgba(255, 96, 96, 1)
        limit: 100
        name: Config Reloads
        showIn: 0
        step: 30s
        tagKeys: controller_class
        tags: []
        titleFormat: Config Reloaded
        type: tags
    editable: true
    fiscalYearStartMonth: 0
    graphTooltip: 0
    id: null
    links: []
    panels:
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: ops
        overrides: []
      id: 20
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        showPercentChange: false
        textMode: auto
        wideLayout: true
      pluginVersion: 10.4.3
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: round(sum(irate(nginx_ingress_controller_requests{controller_pod=~"$controller",controller_class=~"$controller_class",namespace=~"$namespace"}[2m])),
          0.001)
        format: time_series
        intervalFactor: 1
        refId: A
        step: 4
      title: Controller Request Volume
      type: stat
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 6
        "y": 0
      id: 82
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        showPercentChange: false
        textMode: auto
        wideLayout: true
      pluginVersion: 10.4.3
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: sum(avg_over_time(nginx_ingress_controller_nginx_process_connections{controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",state="active"}[2m]))
        format: time_series
        instant: false
        intervalFactor: 1
        refId: A
        step: 4
      title: Controller Connections
      type: stat
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: rgba(245, 54, 54, 0.9)
              value: null
            - color: rgba(237, 129, 40, 0.89)
              value: 95
            - color: rgba(50, 172, 45, 0.97)
              value: 99
          unit: percentunit
        overrides: []
      gridPos:
        h: 3
        w: 6
        x: 12
        "y": 0
      id: 21
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        showPercentChange: false
        textMode: auto
        wideLayout: true
      pluginVersion: 10.4.3
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: sum(rate(nginx_ingress_controller_requests{controller_pod=~"$controller",controller_class=~"$controller_class",namespace=~"$namespace",status!~"[4-5].*"}[2m]))
          / sum(rate(nginx_ingress_controller_requests{controller_pod=~"$controller",controller_class=~"$controller_class",namespace=~"$namespace"}[2m]))
        format: time_series
        intervalFactor: 1
        refId: A
        step: 4
      title: Controller Success Rate (non-4|5xx responses)
      type: stat
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          decimals: 0
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 18
        "y": 0
      id: 81
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - sum
          fields: ""
          values: false
        showPercentChange: false
        textMode: auto
        wideLayout: true
      pluginVersion: 10.4.3
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: avg(irate(nginx_ingress_controller_success{controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace"}[1m]))
          * 60
        format: time_series
        instant: false
        intervalFactor: 1
        refId: A
        step: 4
      title: Config Reloads
      type: stat
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            fixedColor: rgb(31, 120, 193)
            mode: fixed
          decimals: 0
          mappings:
          - options:
              match: "null"
              result:
                text: N/A
            type: special
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: none
        overrides: []
      gridPos:
        h: 3
        w: 3
        x: 21
        "y": 0
      id: 83
      maxDataPoints: 100
      options:
        colorMode: none
        graphMode: area
        justifyMode: auto
        orientation: horizontal
        reduceOptions:
          calcs:
          - mean
          fields: ""
          values: false
        showPercentChange: false
        textMode: auto
        wideLayout: true
      pluginVersion: 10.4.3
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: count(nginx_ingress_controller_config_last_reload_successful{controller_pod=~"$controller",controller_namespace=~"$namespace"}
          == 0)
        format: time_series
        instant: true
        intervalFactor: 1
        refId: A
        step: 4
      title: Last Config Failed
      type: stat
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisBorderShow: false
            axisCenteredZero: false
            axisColorMode: text
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              legend: false
              tooltip: false
              viz: false
            insertNulls: false
            lineInterpolation: linear
            lineWidth: 2
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: "off"
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: reqps
        overrides:
        - matcher:
            id: byValue
            options:
              op: gte
              reducer: allIsZero
              value: 0
          properties:
          - id: custom.hideFrom
            value:
              legend: true
              tooltip: true
              viz: false
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 3
      id: 86
      options:
        legend:
          calcs:
          - mean
          displayMode: table
          placement: right
          showLegend: true
        tooltip:
          mode: multi
          sort: none
      pluginVersion: 10.4.3
      repeatDirection: h
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: round(sum(irate(nginx_ingress_controller_requests{controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",exported_namespace=~"$exported_namespace",ingress=~"$ingress"}[2m]))
          by (ingress), 0.001)
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: '{{ ingress }}'
        metric: network
        refId: A
        step: 10
      title: Ingress Request Volume
      type: timeseries
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisBorderShow: false
            axisCenteredZero: false
            axisColorMode: text
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 0
            gradientMode: none
            hideFrom:
              legend: false
              tooltip: false
              viz: false
            insertNulls: false
            lineInterpolation: linear
            lineWidth: 2
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: "off"
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: percentunit
        overrides:
        - matcher:
            id: byName
            options: max - istio-proxy
          properties:
          - id: color
            value:
              fixedColor: '#890f02'
              mode: fixed
        - matcher:
            id: byName
            options: max - master
          properties:
          - id: color
            value:
              fixedColor: '#bf1b00'
              mode: fixed
        - matcher:
            id: byName
            options: max - prometheus
          properties:
          - id: color
            value:
              fixedColor: '#bf1b00'
              mode: fixed
        - matcher:
            id: byValue
            options:
              op: gte
              reducer: allIsNull
              value: 0
          properties:
          - id: custom.hideFrom
            value:
              legend: true
              tooltip: true
              viz: false
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 3
      id: 87
      options:
        legend:
          calcs:
          - mean
          displayMode: table
          placement: right
          showLegend: true
        tooltip:
          mode: multi
          sort: asc
      pluginVersion: 10.4.3
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: sum(rate(nginx_ingress_controller_requests{controller_pod=~"$controller",controller_class=~"$controller_class",namespace=~"$namespace",exported_namespace=~"$exported_namespace",ingress=~"$ingress",status!~"[4-5].*"}[2m]))
          by (ingress) / sum(rate(nginx_ingress_controller_requests{controller_pod=~"$controller",controller_class=~"$controller_class",namespace=~"$namespace",exported_namespace=~"$exported_namespace",ingress=~"$ingress"}[2m]))
          by (ingress)
        format: time_series
        instant: false
        interval: 10s
        intervalFactor: 1
        legendFormat: '{{ ingress }}'
        metric: container_memory_usage:sort_desc
        refId: A
        step: 10
      title: Ingress Success Rate (non-4|5xx responses)
      type: timeseries
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisBorderShow: false
            axisCenteredZero: false
            axisColorMode: text
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 10
            gradientMode: none
            hideFrom:
              legend: false
              tooltip: false
              viz: false
            insertNulls: false
            lineInterpolation: linear
            lineWidth: 2
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: "off"
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: Bps
        overrides: []
      gridPos:
        h: 6
        w: 8
        x: 0
        "y": 10
      id: 32
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          displayMode: list
          placement: bottom
          showLegend: false
          width: 200
        tooltip:
          mode: multi
          sort: none
      pluginVersion: 10.4.3
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: sum (irate (nginx_ingress_controller_request_size_sum{controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace"}[2m]))
        format: time_series
        instant: false
        interval: 10s
        intervalFactor: 1
        legendFormat: Received
        metric: network
        refId: A
        step: 10
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: '- sum (irate (nginx_ingress_controller_response_size_sum{controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace"}[2m]))'
        format: time_series
        hide: false
        interval: 10s
        intervalFactor: 1
        legendFormat: Sent
        metric: network
        refId: B
        step: 10
      title: Network I/O pressure
      type: timeseries
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisBorderShow: false
            axisCenteredZero: false
            axisColorMode: text
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 0
            gradientMode: none
            hideFrom:
              legend: false
              tooltip: false
              viz: false
            insertNulls: false
            lineInterpolation: linear
            lineWidth: 2
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: "off"
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: bytes
        overrides:
        - matcher:
            id: byName
            options: max - istio-proxy
          properties:
          - id: color
            value:
              fixedColor: '#890f02'
              mode: fixed
        - matcher:
            id: byName
            options: max - master
          properties:
          - id: color
            value:
              fixedColor: '#bf1b00'
              mode: fixed
        - matcher:
            id: byName
            options: max - prometheus
          properties:
          - id: color
            value:
              fixedColor: '#bf1b00'
              mode: fixed
      gridPos:
        h: 6
        w: 8
        x: 8
        "y": 10
      id: 77
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          displayMode: list
          placement: bottom
          showLegend: false
          width: 200
        tooltip:
          mode: multi
          sort: desc
      pluginVersion: 10.4.3
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: 'avg(nginx_ingress_controller_nginx_process_resident_memory_bytes{controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace"}) '
        format: time_series
        instant: false
        interval: 10s
        intervalFactor: 1
        legendFormat: nginx
        metric: container_memory_usage:sort_desc
        refId: A
        step: 10
      title: Average Memory Usage
      type: timeseries
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisBorderShow: false
            axisCenteredZero: false
            axisColorMode: text
            axisLabel: cores
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 0
            gradientMode: none
            hideFrom:
              legend: false
              tooltip: false
              viz: false
            insertNulls: false
            lineInterpolation: linear
            lineWidth: 2
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: never
            spanNulls: true
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: line+area
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: transparent
              value: null
          unit: none
        overrides: []
      gridPos:
        h: 6
        w: 8
        x: 16
        "y": 10
      id: 79
      options:
        legend:
          calcs:
          - mean
          - lastNotNull
          displayMode: list
          placement: bottom
          showLegend: false
        tooltip:
          mode: multi
          sort: desc
      pluginVersion: 10.4.3
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: 'avg (rate (nginx_ingress_controller_nginx_process_cpu_seconds_total{controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace"}[2m])) '
        format: time_series
        interval: 10s
        intervalFactor: 1
        legendFormat: nginx
        metric: container_cpu
        refId: A
        step: 10
      title: Average CPU Usage
      type: timeseries
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      description: This data is real time, independent of dashboard time range
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            cellOptions:
              type: auto
            inspect: false
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
        overrides:
        - matcher:
            id: byName
            options: ingress
          properties:
          - id: displayName
            value: Ingress
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #A'
          properties:
          - id: displayName
            value: P50 Latency
          - id: unit
            value: dtdurations
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #B'
          properties:
          - id: displayName
            value: P90 Latency
          - id: unit
            value: dtdurations
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #C'
          properties:
          - id: displayName
            value: P99 Latency
          - id: unit
            value: dtdurations
          - id: custom.align
        - matcher:
            id: byName
            options: 'Value #D'
          properties:
          - id: displayName
            value: IN
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
          - id: thresholds
            value:
              mode: absolute
              steps:
              - color: rgba(245, 54, 54, 0.9)
                value: null
              - color: rgba(237, 129, 40, 0.89)
        - matcher:
            id: byName
            options: Time
          properties:
          - id: unit
            value: short
          - id: decimals
            value: 2
          - id: custom.align
          - id: custom.hidden
            value: true
        - matcher:
            id: byName
            options: 'Value #E'
          properties:
          - id: displayName
            value: OUT
          - id: unit
            value: Bps
          - id: decimals
            value: 2
          - id: custom.align
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 16
      hideTimeOverride: false
      id: 75
      options:
        cellHeight: sm
        footer:
          countRows: false
          fields: ""
          reducer:
          - sum
          show: false
        showHeader: true
      pluginVersion: 10.4.3
      repeatDirection: h
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: histogram_quantile(0.50, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!="",controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",ingress=~"$ingress",exported_namespace=~"$exported_namespace"}[2m]))
          by (le, ingress))
        format: table
        hide: false
        instant: true
        intervalFactor: 1
        legendFormat: '{{ ingress }}'
        refId: A
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: histogram_quantile(0.90, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!="",controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",ingress=~"$ingress",exported_namespace=~"$exported_namespace"}[2m]))
          by (le, ingress))
        format: table
        hide: false
        instant: true
        intervalFactor: 1
        legendFormat: '{{ ingress }}'
        refId: B
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: histogram_quantile(0.99, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!="",controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",ingress=~"$ingress",exported_namespace=~"$exported_namespace"}[2m]))
          by (le, ingress))
        format: table
        hide: false
        instant: true
        intervalFactor: 1
        legendFormat: '{{ destination_service }}'
        refId: C
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: sum(irate(nginx_ingress_controller_request_size_sum{ingress!="",controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",ingress=~"$ingress",exported_namespace=~"$exported_namespace"}[2m]))
          by (ingress)
        format: table
        hide: false
        instant: true
        interval: ""
        intervalFactor: 1
        legendFormat: '{{ ingress }}'
        refId: D
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: sum(irate(nginx_ingress_controller_response_size_sum{ingress!="",controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",ingress=~"$ingress",exported_namespace=~"$exported_namespace"}[2m]))
          by (ingress)
        format: table
        instant: true
        intervalFactor: 1
        legendFormat: '{{ ingress }}'
        refId: E
      title: Ingress Percentile Response Times and Transfer Rates
      transformations:
      - id: merge
        options:
          reducers: []
      type: table
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            mode: palette-classic
          custom:
            axisBorderShow: false
            axisCenteredZero: false
            axisColorMode: text
            axisLabel: ""
            axisPlacement: auto
            barAlignment: 0
            drawStyle: line
            fillOpacity: 0
            gradientMode: none
            hideFrom:
              legend: false
              tooltip: false
              viz: false
            insertNulls: false
            lineInterpolation: linear
            lineWidth: 1
            pointSize: 5
            scaleDistribution:
              type: linear
            showPoints: auto
            spanNulls: false
            stacking:
              group: A
              mode: none
            thresholdsStyle:
              mode: "off"
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: s
        overrides: []
      gridPos:
        h: 7
        w: 12
        x: 0
        "y": 24
      hideTimeOverride: false
      id: 91
      options:
        legend:
          calcs: []
          displayMode: list
          placement: bottom
          showLegend: true
        tooltip:
          mode: multi
          sort: none
      pluginVersion: 8.3.4
      repeatDirection: h
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        exemplar: true
        expr: histogram_quantile(0.80, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!="",controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",ingress=~"$ingress",exported_namespace=~"$exported_namespace"}[2m]))
          by (le))
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: P80
        refId: C
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        exemplar: true
        expr: histogram_quantile(0.90, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!="",controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",ingress=~"$ingress",exported_namespace=~"$exported_namespace"}[2m]))
          by (le))
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: P90
        refId: D
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        editorMode: code
        exemplar: true
        expr: histogram_quantile(0.99, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!="",controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",ingress=~"$ingress",exported_namespace=~"$exported_namespace"}[2m]))
          by (le))
        format: time_series
        hide: false
        instant: false
        interval: ""
        intervalFactor: 1
        legendFormat: P99
        refId: E
      title: Ingress Percentile Response Times (Ingress Namespaces)
      type: timeseries
    - cards: {}
      color:
        cardColor: '#b4ff00'
        colorScale: sqrt
        colorScheme: interpolateWarm
        exponent: 0.5
        mode: spectrum
      dataFormat: tsbuckets
      datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      description: ""
      fieldConfig:
        defaults:
          custom:
            hideFrom:
              legend: false
              tooltip: false
              viz: false
            scaleDistribution:
              type: linear
        overrides: []
      gridPos:
        h: 7
        w: 12
        x: 12
        "y": 24
      heatmap: {}
      hideZeroBuckets: false
      highlightCards: true
      id: 89
      legend:
        show: true
      options:
        calculate: false
        calculation: {}
        cellGap: 2
        cellValues: {}
        color:
          exponent: 0.5
          fill: '#b4ff00'
          mode: scheme
          reverse: false
          scale: exponential
          scheme: Warm
          steps: 128
        exemplars:
          color: rgba(255,0,255,0.7)
        filterValues:
          le: 1e-09
        legend:
          show: true
        rowsFrame:
          layout: auto
        showValue: never
        tooltip:
          mode: single
          showColorScale: false
          yHistogram: true
        yAxis:
          axisPlacement: left
          reverse: false
          unit: s
      pluginVersion: 10.4.3
      reverseYBuckets: false
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        exemplar: true
        expr: sum(increase(nginx_ingress_controller_request_duration_seconds_bucket{ingress!="",controller_pod=~"$controller",controller_class=~"$controller_class",controller_namespace=~"$namespace",ingress=~"$ingress",exported_namespace=~"$exported_namespace"}[2m]))
          by (le)
        format: heatmap
        interval: ""
        legendFormat: '{{le}}'
        refId: A
      title: Ingress Request Latency Heatmap (Ingress Namespaces)
      tooltip:
        show: true
        showHistogram: true
      type: heatmap
      xAxis:
        show: true
      yAxis:
        format: s
        logBase: 1
        show: true
      yBucketBound: auto
    - datasource:
        type: prometheus
        uid: ${DS_PROMETHEUS}
      fieldConfig:
        defaults:
          color:
            mode: thresholds
          custom:
            align: auto
            cellOptions:
              type: auto
            inspect: false
          decimals: 2
          displayName: ""
          mappings: []
          thresholds:
            mode: absolute
            steps:
            - color: green
              value: null
            - color: red
              value: 80
          unit: short
        overrides:
        - matcher:
            id: byName
            options: Last *
          properties:
          - id: displayName
            value: TTL
          - id: unit
            value: s
          - id: custom.cellOptions
            value:
              type: color-background
          - id: thresholds
            value:
              mode: absolute
              steps:
              - color: rgba(245, 54, 54, 0.9)
                value: null
              - color: rgba(237, 129, 40, 0.89)
                value: 0
              - color: rgba(50, 172, 45, 0.97)
                value: 691200
        - matcher:
            id: byName
            options: Field
          properties:
          - id: displayName
            value: Host
      gridPos:
        h: 8
        w: 24
        x: 0
        "y": 31
      id: 85
      options:
        cellHeight: sm
        footer:
          countRows: false
          enablePagination: false
          fields: ""
          reducer:
          - sum
          show: false
        showHeader: true
      pluginVersion: 10.4.3
      targets:
      - datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        expr: avg(nginx_ingress_controller_ssl_expire_time_seconds{kubernetes_pod_name=~"$controller",namespace=~"$namespace",ingress=~"$ingress"})
          by (host) - time()
        format: time_series
        intervalFactor: 1
        legendFormat: '{{ host }}'
        metric: gke_letsencrypt_cert_expiration
        refId: A
        step: 1
      title: Ingress Certificate Expiry
      transformations:
      - id: reduce
        options:
          includeTimeField: false
          labelsToFields: false
          reducers:
          - lastNotNull
      type: table
    refresh: 5s
    schemaVersion: 39
    tags:
    - nginx
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: ${DS_PROMETHEUS}
        hide: 0
        includeAll: false
        label: datasource
        multi: false
        name: DS_PROMETHEUS
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - allValue: .*
        current: {}
        datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        definition: ""
        hide: 0
        includeAll: true
        label: Namespace
        multi: false
        name: namespace
        options: []
        query: label_values(nginx_ingress_controller_config_hash, controller_namespace)
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: .*
        current: {}
        datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        definition: ""
        hide: 0
        includeAll: true
        label: Controller Class
        multi: false
        name: controller_class
        options: []
        query: 'label_values(nginx_ingress_controller_config_hash{namespace=~"$namespace"},
          controller_class) '
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 0
        tagValuesQuery: ""
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: .*
        current: {}
        datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        definition: ""
        hide: 0
        includeAll: true
        label: Controller
        multi: false
        name: controller
        options: []
        query: 'label_values(nginx_ingress_controller_config_hash{namespace=~"$namespace",controller_class=~"$controller_class"},
          controller_pod) '
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: .*
        current: {}
        datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        definition: ""
        hide: 0
        includeAll: true
        label: Ingress Namespace
        multi: false
        name: exported_namespace
        options: []
        query: 'label_values(nginx_ingress_controller_requests{namespace=~"$namespace",controller_class=~"$controller_class",controller_pod=~"$controller"},
          exported_namespace) '
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tagsQuery: ""
        type: query
        useTags: false
      - allValue: .*
        current: {}
        datasource:
          type: prometheus
          uid: ${DS_PROMETHEUS}
        definition: ""
        hide: 0
        includeAll: true
        label: Ingress
        multi: false
        name: ingress
        options: []
        query: 'label_values(nginx_ingress_controller_requests{namespace=~"$namespace",controller_class=~"$controller_class",controller_pod=~"$controller",exported_namespace=~"$exported_namespace"},
          ingress) '
        refresh: 1
        regex: ""
        skipUrlSync: false
        sort: 1
        tagValuesQuery: ""
        tagsQuery: ""
        type: query
        useTags: false
    time:
      from: now-1h
      to: now
    timepicker:
      refresh_intervals:
      - 5s
      - 10s
      - 30s
      - 2m
      - 5m
      - 15m
      - 30m
      - 1h
      - 2h
      - 1d
      time_options:
      - 5m
      - 15m
      - 1h
      - 6h
      - 12h
      - 24h
      - 2d
      - 7d
      - 30d
    timezone: browser
    title: NGINX Ingress controller
    uid: nginx
    version: 1
    weekStart: ""
kind: ConfigMap
metadata:
  labels:
    grafana_dashboard: "true"
  name: ingress-nginx-dashboard
  namespace: monitoring
---
data:
  media-dashboard.json:
    annotations:
      list:
      - builtIn: 1
        datasource:
          type: grafana
          uid: -- Grafana --
        enable: true
        hide: true
        iconColor: rgba(0, 211, 255, 1)
        name: Annotations & Alerts
        target:
          limit: 100
          matchAny: false
          tags: []
          type: dashboard
        type: dashboard
    editable: true
    fiscalYearStartMonth: 0
    graphTooltip: 0
    id: 7
    links: []
    liveNow: false
    panels:
    - collapsed: true
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 0
      id: 78
      panels:
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        description: ""
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
                value: null
            unit: none
          overrides:
          - matcher:
              id: byName
              options: Lifetime
            properties:
            - id: unit
              value: bytes
          - matcher:
              id: byName
              options: Queue Size
            properties:
            - id: unit
              value: bytes
          - matcher:
              id: byName
              options: Recent
            properties:
            - id: unit
              value: bytes
          - matcher:
              id: byName
              options: Remaining
            properties:
            - id: unit
              value: bytes
          - matcher:
              id: byName
              options: Success Rate
            properties:
            - id: unit
              value: percentunit
            - id: mappings
              value:
              - options:
                  NaN:
                    index: 0
                    text: N/A
                type: value
        gridPos:
          h: 4
          w: 15
          x: 0
          "y": 1
        id: 84
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: vertical
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: value_and_name
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: max(sabnzbd_downloaded_bytes{instance=~"${sabnzbd_instance}"})
          hide: false
          instant: true
          interval: ""
          legendFormat: Lifetime
          range: false
          refId: C
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: max(increase(sabnzbd_downloaded_bytes{instance=~"${sabnzbd_instance}"}[$__range]))
          hide: false
          instant: true
          legendFormat: Recent
          range: false
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_queue_length{instance=~"${sabnzbd_instance}"}
          hide: false
          instant: true
          legendFormat: Queued
          range: false
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_total_bytes{instance=~"${sabnzbd_instance}"}
          hide: false
          instant: true
          legendFormat: Queue Size
          range: false
          refId: D
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_remaining_bytes{instance=~"${sabnzbd_instance}"}
          hide: false
          instant: true
          legendFormat: Remaining
          range: false
          refId: E
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(sabnzbd_server_articles_success{instance=~"${sabnzbd_instance}"})
            / sum(sabnzbd_server_articles_total{instance=~"${sabnzbd_instance}"})
          hide: false
          legendFormat: Success Rate
          range: true
          refId: F
        title: Downloads
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        description: ""
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
                value: null
          overrides:
          - matcher:
              id: byName
              options: Size
            properties:
            - id: unit
              value: bytes
          - matcher:
              id: byName
              options: Usage
            properties:
            - id: unit
              value: percentunit
            - id: mappings
              value:
              - options:
                  NaN:
                    index: 0
                    text: N/A
                type: value
          - matcher:
              id: byName
              options: Remaining
            properties:
            - id: unit
              value: bytes
        gridPos:
          h: 4
          w: 5
          x: 15
          "y": 1
        id: 122
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_quota_bytes{instance=~"${sabnzbd_instance}"}
          instant: true
          legendFormat: Size
          range: false
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: 1 - max(sabnzbd_remaining_quota_bytes{instance=~"${sabnzbd_instance}"}
            / sabnzbd_quota_bytes{instance=~"${sabnzbd_instance}"})
          hide: false
          instant: true
          legendFormat: Usage
          range: false
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_remaining_quota_bytes{instance=~"${sabnzbd_instance}"}
          hide: false
          instant: true
          legendFormat: Remaining
          range: false
          refId: C
        title: Quota
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
                value: null
              - color: red
                value: 80
            unit: none
          overrides:
          - matcher:
              id: byName
              options: Size
            properties:
            - id: unit
              value: bytes
            - id: color
              value:
                mode: continuous-BlPu
        gridPos:
          h: 4
          w: 4
          x: 20
          "y": 1
        id: 86
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_article_cache_articles{instance=~"${sabnzbd_instance}"}
          hide: false
          instant: true
          legendFormat: Articles
          range: false
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_article_cache_bytes{instance=~"${sabnzbd_instance}"}
          hide: false
          instant: true
          legendFormat: Size
          range: false
          refId: D
        title: Cache
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: red
                  index: 1
                  text: Down
                "1":
                  color: green
                  index: 0
                  text: Up
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: green
                value: null
              - color: red
                value: 80
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 0
          "y": 5
        id: 80
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: up{job="sabnzbd"}
          instant: true
          legendFormat: Status
          range: false
          refId: A
        type: stat
      repeat: sabnzbd_instance
      repeatDirection: h
      title: SABnzbd - ${sabnzbd_instance}
      type: row
    - collapsed: true
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 1
      id: 11
      panels:
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: red
                  index: 1
                  text: Down
                "1":
                  color: green
                  index: 0
                  text: Up
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 0
          "y": 3
        id: 3
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_system_status{instance=~"${radarr_instance}"}
          instant: true
          legendFormat: Status
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: red
                  index: 1
                  text: Down
                "1":
                  color: green
                  index: 0
                  text: Up
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: red
              - color: semi-dark-orange
                value: 600
              - color: yellow
                value: 3600
              - color: green
                value: 86400
            unit: s
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 3
          "y": 3
        id: 7
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: time() - container_start_time_seconds{container="radarr"}
          instant: true
          legendFormat: Uptime
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: none
          overrides:
          - matcher:
              id: byName
              options: Disk Used
            properties:
            - id: unit
              value: bytes
        gridPos:
          h: 4
          w: 6
          x: 6
          "y": 3
        id: 5
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_movie_downloaded_total{instance=~"${radarr_instance}"}
          hide: false
          instant: true
          legendFormat: Downloaded
          range: false
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_movie_monitored_total{instance=~"${radarr_instance}"}
          hide: false
          instant: true
          legendFormat: Monitored
          range: false
          refId: C
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_movie_wanted_total{instance=~"${radarr_instance}"}
          hide: false
          instant: true
          legendFormat: Wanted
          range: false
          refId: D
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: none
          overrides:
          - matcher:
              id: byName
              options: Disk Free
            properties:
            - id: unit
              value: bytes
            - id: thresholds
              value:
                mode: absolute
                steps:
                - color: red
                - color: '#EAB839'
                  value: 500000000
                - color: green
                  value: 5000000000
            - id: color
          - matcher:
              id: byName
              options: Disk Used
            properties:
            - id: unit
              value: bytes
        gridPos:
          h: 4
          w: 12
          x: 12
          "y": 3
        id: 6
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_queue_total{instance=~"${radarr_instance}"}
          hide: false
          instant: true
          legendFormat: Queued
          range: false
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_movie_downloaded_total{instance=~"${radarr_instance}"}
          hide: false
          instant: true
          legendFormat: Downloaded
          range: false
          refId: D
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_history_total{instance=~"${radarr_instance}"}
          hide: false
          instant: true
          legendFormat: History
          range: false
          refId: C
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_movie_filesize_total{instance=~"${radarr_instance}"}
          hide: false
          instant: true
          legendFormat: Disk Used
          range: false
          refId: E
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_rootfolder_freespace_bytes{instance=~"${radarr_instance}"}
          hide: false
          instant: true
          legendFormat: Disk Free
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides: []
        gridPos:
          h: 10
          w: 24
          x: 0
          "y": 7
        id: 9
        options:
          displayMode: lcd
          maxVizHeight: 300
          minVizHeight: 10
          minVizWidth: 0
          namePlacement: auto
          orientation: horizontal
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showUnfilled: true
          sizing: auto
          text: {}
          valueMode: color
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_movie_quality_total{instance=~"${radarr_instance}"}
          format: time_series
          instant: true
          legendFormat: '{{quality}}'
          range: false
          refId: A
        title: Qualities
        type: bargauge
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: hue
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              insertNulls: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 3
              scaleDistribution:
                type: linear
              showPoints: auto
              spanNulls: false
              stacking:
                group: A
                mode: none
              thresholdsStyle:
                mode: "off"
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: binBps
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 0
          "y": 17
        id: 15
        options:
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: true
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(irate(container_network_transmit_bytes_total{pod=~"radarr.*"}[$__rate_interval]))
          legendFormat: Network Transmit
          range: true
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(irate(container_network_receive_bytes_total{pod=~"radarr.*"}[$__rate_interval]))
            * -1
          hide: false
          legendFormat: Network Receive
          range: true
          refId: B
        title: Network
        type: timeseries
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: none
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              insertNulls: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 3
              scaleDistribution:
                type: linear
              showPoints: auto
              spanNulls: false
              stacking:
                group: A
                mode: none
              thresholdsStyle:
                mode: "off"
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: bytes
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 8
          "y": 17
        id: 16
        options:
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: true
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: radarr_movie_filesize_total{instance=~"${radarr_instance}"}
          legendFormat: Used
          range: true
          refId: A
        title: Disk
        type: timeseries
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            custom:
              align: auto
              cellOptions:
                type: auto
              inspect: false
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides:
          - matcher:
              id: byName
              options: Expires In
            properties:
            - id: unit
              value: s
          - matcher:
              id: byName
              options: Expiration Date
            properties:
            - id: unit
              value: dateTimeAsUS
        gridPos:
          h: 9
          w: 8
          x: 16
          "y": 17
        id: 56
        options:
          cellHeight: sm
          footer:
            countRows: false
            fields: ""
            reducer:
            - sum
            show: false
          frameIndex: 1
          showHeader: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: radarr_system_health_issues{instance=~"${radarr_instance}"}
          format: table
          hide: false
          instant: true
          legendFormat: __auto
          range: false
          refId: A
        title: System Health Issues
        transformations:
        - id: organize
          options:
            excludeByName:
              __name__: true
              Time: true
              Value: true
              cluster: true
              cluster 1: true
              cluster 2: true
              endpoint: true
              endpoint 1: true
              endpoint 2: true
              indexer 2: true
              instance: true
              instance 1: true
              instance 2: true
              job: true
              job 1: true
              job 2: true
              namespace: true
              namespace 1: true
              namespace 2: true
              pod: true
              pod 1: true
              pod 2: true
              prometheus: true
              prometheus 1: true
              prometheus 2: true
              service: true
              service 1: true
              service 2: true
              source: true
              type: true
              url: true
              url 1: true
              url 2: true
            indexByName: {}
            renameByName:
              Value: ""
              'Value #A': Expires In
              'Value #B': Expiration Date
        type: table
      repeat: radarr_instance
      repeatDirection: h
      title: Radarr - ${radarr_instance}
      type: row
    - collapsed: true
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 2
      id: 13
      panels:
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: red
                  index: 1
                  text: Down
                "1":
                  color: green
                  index: 0
                  text: Up
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 0
          "y": 4
        id: 17
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sonarr_system_status{instance=~"${sonarr_instance}"}
          instant: true
          legendFormat: Status
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: red
                  index: 1
                  text: Down
                "1":
                  color: green
                  index: 0
                  text: Up
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: red
              - color: semi-dark-orange
                value: 600
              - color: yellow
                value: 3600
              - color: green
                value: 86400
            unit: s
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 3
          "y": 4
        id: 18
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: time() - container_start_time_seconds{container="sonarr"}
          instant: true
          legendFormat: Uptime
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
            unit: none
          overrides: []
        gridPos:
          h: 4
          w: 6
          x: 6
          "y": 4
        id: 19
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text:
            valueSize: 60
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sonarr_queue_total{instance=~"${sonarr_instance}"}
          hide: false
          instant: true
          legendFormat: Queued
          range: false
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sonarr_history_total{instance=~"${sonarr_instance}"}
          hide: false
          instant: true
          legendFormat: History
          range: false
          refId: C
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sonarr_episode_downloaded_total{instance=~"${sonarr_instance}"}
          hide: false
          instant: true
          legendFormat: Downloaded
          range: false
          refId: D
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
            unit: none
          overrides: []
        gridPos:
          h: 4
          w: 4
          x: 12
          "y": 4
        id: 20
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: max(sonarr_series_monitored_total{instance=~"${sonarr_instance}"})
          hide: false
          legendFormat: Series Monitored
          range: true
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: max(sonarr_series_total{instance=~"${sonarr_instance}"})
          hide: false
          legendFormat: Series Total
          range: true
          refId: D
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
            unit: none
          overrides: []
        gridPos:
          h: 4
          w: 4
          x: 16
          "y": 4
        id: 21
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: max(sonarr_season_monitored_total{instance=~"${sonarr_instance}"})
          hide: false
          instant: true
          legendFormat: Seasons Monitored
          range: false
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: max(sonarr_season_total{instance=~"${sonarr_instance}"})
          hide: false
          instant: true
          legendFormat: Seasons Total
          range: false
          refId: D
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
            unit: none
          overrides: []
        gridPos:
          h: 4
          w: 4
          x: 20
          "y": 4
        id: 22
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: max(sonarr_episode_missing_total{instance=~"${sonarr_instance}"})
          hide: false
          legendFormat: Episodes Missing
          range: true
          refId: D
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: max(sonarr_episode_total{instance=~"${sonarr_instance}"})
          hide: false
          legendFormat: Episodes Total
          range: true
          refId: B
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides: []
        gridPos:
          h: 10
          w: 24
          x: 0
          "y": 8
        id: 23
        options:
          displayMode: lcd
          maxVizHeight: 300
          minVizHeight: 10
          minVizWidth: 0
          namePlacement: auto
          orientation: horizontal
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showUnfilled: true
          sizing: auto
          valueMode: color
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sonarr_episode_quality_total{instance=~"${sonarr_instance}"}
          format: time_series
          instant: true
          legendFormat: '{{quality}}'
          range: false
          refId: A
        title: Qualities
        type: bargauge
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: hue
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              insertNulls: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 3
              scaleDistribution:
                type: linear
              showPoints: auto
              spanNulls: false
              stacking:
                group: A
                mode: none
              thresholdsStyle:
                mode: "off"
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: binBps
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 0
          "y": 18
        id: 24
        options:
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: true
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(irate(container_network_transmit_bytes_total{pod=~"sonarr.*"}[$__rate_interval]))
          legendFormat: Network Transmit
          range: true
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(irate(container_network_receive_bytes_total{pod=~"sonarr.*"}[$__rate_interval]))
            * -1
          hide: false
          legendFormat: Network Receive
          range: true
          refId: B
        title: Network
        type: timeseries
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: hue
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              insertNulls: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 3
              scaleDistribution:
                type: linear
              showPoints: auto
              spanNulls: false
              stacking:
                group: A
                mode: none
              thresholdsStyle:
                mode: "off"
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: bytes
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 8
          "y": 18
        id: 25
        options:
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: false
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sonarr_series_filesize_bytes{instance=~"${sonarr_instance}"}
          instant: false
          legendFormat: Used
          range: true
          refId: A
        title: Disk Used
        type: timeseries
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            custom:
              align: auto
              cellOptions:
                type: auto
              inspect: false
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides:
          - matcher:
              id: byName
              options: Expires In
            properties:
            - id: unit
              value: s
          - matcher:
              id: byName
              options: Expiration Date
            properties:
            - id: unit
              value: dateTimeAsUS
        gridPos:
          h: 9
          w: 8
          x: 16
          "y": 18
        id: 55
        options:
          cellHeight: sm
          footer:
            countRows: false
            fields: ""
            reducer:
            - sum
            show: false
          frameIndex: 1
          showHeader: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sonarr_system_health_issues{instance=~"${sonarr_instance}"}
          format: table
          hide: false
          instant: true
          legendFormat: __auto
          range: false
          refId: A
        title: System Health Issues
        transformations:
        - id: organize
          options:
            excludeByName:
              __name__: true
              Time: true
              Value: true
              cluster: true
              cluster 1: true
              cluster 2: true
              endpoint: true
              endpoint 1: true
              endpoint 2: true
              indexer 2: true
              instance: true
              instance 1: true
              instance 2: true
              job: true
              job 1: true
              job 2: true
              namespace: true
              namespace 1: true
              namespace 2: true
              pod: true
              pod 1: true
              pod 2: true
              prometheus: true
              prometheus 1: true
              prometheus 2: true
              service: true
              service 1: true
              service 2: true
              source: true
              type: true
              url: true
              url 1: true
              url 2: true
            indexByName: {}
            renameByName:
              Value: ""
              'Value #A': Expires In
              'Value #B': Expiration Date
        type: table
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            displayName: ${__field.displayName}
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides: []
        gridPos:
          h: 10
          w: 12
          x: 12
          "y": 27
        id: 132
        options:
          displayMode: lcd
          maxVizHeight: 300
          minVizHeight: 10
          minVizWidth: 0
          namePlacement: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showUnfilled: true
          sizing: auto
          valueMode: color
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_subtitles_language_total{instance=~"${bazarr_instance}"}
          format: time_series
          instant: false
          legendFormat: '{{language}}'
          range: true
          refId: A
        title: Languages
        type: bargauge
      repeat: sonarr_instance
      repeatDirection: h
      title: Sonarr - ${sonarr_instance}
      type: row
    - collapsed: true
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 3
      id: 47
      panels:
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: red
                  index: 1
                  text: Down
                "1":
                  color: green
                  index: 0
                  text: Up
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 0
          "y": 5
        id: 48
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: readarr_system_status{instance=~"${readarr_instance}"}
          instant: true
          legendFormat: Status
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: red
                  index: 1
                  text: Down
                "1":
                  color: green
                  index: 0
                  text: Up
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: red
              - color: semi-dark-orange
                value: 600
              - color: yellow
                value: 3600
              - color: green
                value: 86400
            unit: s
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 3
          "y": 5
        id: 49
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: time() - container_start_time_seconds{container="readarr"}
          instant: true
          legendFormat: Uptime
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: none
          overrides:
          - matcher:
              id: byName
              options: Disk Used
            properties:
            - id: unit
              value: bytes
        gridPos:
          h: 4
          w: 6
          x: 6
          "y": 5
        id: 50
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text:
            valueSize: 60
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: readarr_author_downloaded_total{instance=~"${readarr_instance}"}
          hide: false
          legendFormat: Authors Downloaded
          range: true
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: readarr_author_monitored_total{instance=~"${readarr_instance}"}
          hide: false
          legendFormat: Authors Monitored
          range: true
          refId: C
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: readarr_author_total{instance=~"${readarr_instance}"}
          hide: false
          legendFormat: Authors Wanted
          range: true
          refId: D
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: none
          overrides:
          - matcher:
              id: byName
              options: Disk Free
            properties:
            - id: unit
              value: bytes
            - id: color
            - id: thresholds
              value:
                mode: absolute
                steps:
                - color: red
                - color: yellow
                  value: 500000000
                - color: green
                  value: 5000000000
          - matcher:
              id: byName
              options: Disk Used
            properties:
            - id: unit
              value: bytes
        gridPos:
          h: 4
          w: 12
          x: 12
          "y": 5
        id: 51
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text:
            valueSize: 60
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: readarr_queue_total{instance=~"${readarr_instance}"}
          hide: false
          legendFormat: Queued
          range: true
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: readarr_book_downloaded_total{instance=~"${readarr_instance}"}
          hide: false
          legendFormat: Downloaded
          range: true
          refId: D
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: readarr_history_total{instance=~"${readarr_instance}"}
          hide: false
          legendFormat: History
          range: true
          refId: C
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: readarr_author_filesize_bytes{instance=~"${readarr_instance}"}
          hide: false
          legendFormat: Disk Used
          range: true
          refId: E
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: readarr_rootfolder_freespace_bytes{instance=~"${readarr_instance}"}
          hide: false
          legendFormat: Disk Free
          range: true
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: hue
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              insertNulls: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 3
              scaleDistribution:
                type: linear
              showPoints: auto
              spanNulls: false
              stacking:
                group: A
                mode: none
              thresholdsStyle:
                mode: "off"
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: binBps
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 0
          "y": 9
        id: 52
        options:
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: true
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(irate(container_network_transmit_bytes_total{pod=~"readarr.*"}[$__rate_interval]))
          legendFormat: Network Transmit
          range: true
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(irate(container_network_receive_bytes_total{pod=~"readarr.*"}[$__rate_interval]))
            * -1
          hide: false
          legendFormat: Network Receive
          range: true
          refId: B
        title: Network
        type: timeseries
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: hue
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              insertNulls: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 3
              scaleDistribution:
                type: linear
              showPoints: auto
              spanNulls: false
              stacking:
                group: A
                mode: none
              thresholdsStyle:
                mode: "off"
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: bytes
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 8
          "y": 9
        id: 53
        options:
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: true
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: readarr_author_filesize_bytes{instance=~"${readarr_instance}"}
          legendFormat: Used
          range: true
          refId: A
        title: Disk
        type: timeseries
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            custom:
              align: auto
              cellOptions:
                type: auto
              inspect: false
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides:
          - matcher:
              id: byName
              options: Expires In
            properties:
            - id: unit
              value: s
          - matcher:
              id: byName
              options: Expiration Date
            properties:
            - id: unit
              value: dateTimeAsUS
        gridPos:
          h: 9
          w: 8
          x: 16
          "y": 9
        id: 54
        options:
          cellHeight: sm
          footer:
            countRows: false
            fields: ""
            reducer:
            - sum
            show: false
          frameIndex: 1
          showHeader: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: readarr_system_health_issues{instance=~"${readarr_instance}"}
          format: table
          hide: false
          instant: true
          legendFormat: __auto
          range: false
          refId: A
        title: System Health Issues
        transformations:
        - id: organize
          options:
            excludeByName:
              __name__: true
              Time: true
              Value: true
              cluster: true
              cluster 1: true
              cluster 2: true
              endpoint: true
              endpoint 1: true
              endpoint 2: true
              indexer 2: true
              instance: true
              instance 1: true
              instance 2: true
              job: true
              job 1: true
              job 2: true
              namespace: true
              namespace 1: true
              namespace 2: true
              pod: true
              pod 1: true
              pod 2: true
              prometheus: true
              prometheus 1: true
              prometheus 2: true
              service: true
              service 1: true
              service 2: true
              source: true
              type: true
              url: true
              url 1: true
              url 2: true
            indexByName: {}
            renameByName:
              Value: ""
              'Value #A': Expires In
              'Value #B': Expiration Date
        type: table
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: hue
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              insertNulls: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 3
              scaleDistribution:
                type: linear
              showPoints: auto
              spanNulls: false
              stacking:
                group: A
                mode: none
              thresholdsStyle:
                mode: "off"
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: binBps
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 0
          "y": 18
        id: 133
        options:
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: true
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(irate(container_network_transmit_bytes_total{pod=~"bazarr.*"}[$__rate_interval]))
          legendFormat: Network Transmit
          range: true
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(irate(container_network_receive_bytes_total{pod=~"bazarr.*"}[$__rate_interval]))
            * -1
          hide: false
          legendFormat: Network Receive
          range: true
          refId: B
        title: Network
        type: timeseries
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: hue
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              insertNulls: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 3
              scaleDistribution:
                type: linear
              showPoints: auto
              spanNulls: false
              stacking:
                group: A
                mode: none
              thresholdsStyle:
                mode: "off"
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: bytes
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 8
          "y": 18
        id: 134
        options:
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: false
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_episode_subtitles_filesize_total{instance=~"${bazarr_instance}"}
          instant: false
          legendFormat: Episodes
          range: true
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_movie_subtitles_filesize_total{instance=~"${bazarr_instance}"}
          hide: false
          instant: false
          legendFormat: Movies
          range: true
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_subtitles_filesize_total{instance=~"${bazarr_instance}"}
          hide: false
          instant: false
          legendFormat: Total
          range: true
          refId: C
        title: Disk Used
        type: timeseries
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            custom:
              align: auto
              cellOptions:
                type: auto
              inspect: false
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides:
          - matcher:
              id: byName
              options: Expires In
            properties:
            - id: unit
              value: s
          - matcher:
              id: byName
              options: Expiration Date
            properties:
            - id: unit
              value: dateTimeAsUS
        gridPos:
          h: 9
          w: 8
          x: 16
          "y": 18
        id: 135
        options:
          cellHeight: sm
          footer:
            countRows: false
            fields: ""
            reducer:
            - sum
            show: false
          frameIndex: 1
          showHeader: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_system_health_issues{instance=~"${bazarr_instance}"}
          format: table
          hide: false
          instant: true
          legendFormat: __auto
          range: false
          refId: A
        title: System Health Issues
        transformations:
        - id: organize
          options:
            excludeByName:
              __name__: true
              Time: true
              Value: true
              cluster: true
              cluster 1: true
              cluster 2: true
              endpoint: true
              endpoint 1: true
              endpoint 2: true
              indexer 2: true
              instance: true
              instance 1: true
              instance 2: true
              job: true
              job 1: true
              job 2: true
              namespace: true
              namespace 1: true
              namespace 2: true
              pod: true
              pod 1: true
              pod 2: true
              prometheus: true
              prometheus 1: true
              prometheus 2: true
              service: true
              service 1: true
              service 2: true
              source: true
              type: true
              url: true
              url 1: true
              url 2: true
            indexByName: {}
            renameByName:
              Value: ""
              'Value #A': Expires In
              'Value #B': Expiration Date
        type: table
      repeat: readarr_instance
      repeatDirection: h
      title: Readarr - ${readarr_instance}
      type: row
    - collapsed: true
      gridPos:
        h: 1
        w: 24
        x: 0
        "y": 4
      id: 125
      panels:
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: red
              - color: semi-dark-orange
                value: 600
              - color: yellow
                value: 3600
              - color: green
                value: 86400
            unit: s
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 3
          "y": 2
        id: 82
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: time() - container_start_time_seconds{container="sabnzbd"}
          instant: true
          legendFormat: Uptime
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: red
                  index: 0
                  text: Unknown
                "1":
                  color: green
                  index: 1
                  text: Idle
                "2":
                  color: yellow
                  index: 2
                  text: Paused
                "3":
                  color: green
                  index: 3
                  text: Downloading
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: red
              - color: orange
                value: 600
              - color: '#EAB839'
                value: 3600
              - color: green
                value: 86400
            unit: s
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 6
          "y": 2
        id: 108
        options:
          colorMode: background
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_status{instance=~"${sabnzbd_instance}"}
          instant: true
          legendFormat: Mode
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: red
            unit: s
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 9
          "y": 2
        id: 116
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_time_estimate_seconds{instance=~"${sabnzbd_instance}"}
          instant: true
          legendFormat: Time Remaining
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: red
            unit: binBps
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 12
          "y": 2
        id: 115
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_speed_bps{instance=~"${sabnzbd_instance}"}
          instant: true
          legendFormat: D/L Speed
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: green
                  index: 0
                  text: "No"
                "1":
                  color: yellow
                  index: 1
                  text: "Yes"
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: red
              - color: orange
                value: 600
              - color: '#EAB839'
                value: 3600
              - color: green
                value: 86400
            unit: s
          overrides: []
        gridPos:
          h: 4
          w: 2
          x: 15
          "y": 2
        id: 109
        options:
          colorMode: background
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_paused_all{instance=~"${sabnzbd_instance}"}
          instant: true
          legendFormat: Hard Pause
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings:
            - options:
                from: 0
                result:
                  color: green
                  index: 0
                to: 0
              type: range
            - options:
                from: 1
                result:
                  color: yellow
                  index: 1
                to: 30
              type: range
            - options:
                from: 31
                result:
                  color: orange
                  index: 2
                to: 500
              type: range
            - options:
                from: 501
                result:
                  color: red
                  index: 3
                to: 21600
              type: range
            thresholds:
              mode: absolute
              steps:
              - color: red
            unit: s
          overrides: []
        gridPos:
          h: 4
          w: 3
          x: 17
          "y": 2
        id: 110
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_pause_duration_seconds{instance=~"${sabnzbd_instance}"}
          instant: true
          legendFormat: Resume In
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        description: ""
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            max: 1
            min: 0
            thresholds:
              mode: absolute
              steps:
              - color: green
            unit: percentunit
          overrides: []
        gridPos:
          h: 4
          w: 4
          x: 20
          "y": 2
        id: 124
        options:
          displayMode: lcd
          maxVizHeight: 300
          minVizHeight: 10
          minVizWidth: 0
          namePlacement: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showUnfilled: true
          sizing: auto
          valueMode: color
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: min(sabnzbd_disk_used_bytes{instance=~"${sabnzbd_instance}",folder="download"}
            / sabnzbd_disk_total_bytes{instance=~"${sabnzbd_instance}",folder="download"})
          instant: true
          legendFormat: Download
          range: false
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: min(sabnzbd_disk_used_bytes{instance=~"${sabnzbd_instance}",folder="complete"}
            / sabnzbd_disk_total_bytes{instance=~"${sabnzbd_instance}",folder="complete"})
          hide: false
          instant: true
          legendFormat: Complete
          range: false
          refId: B
        title: Disk Used
        type: bargauge
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: red
                  index: 1
                  text: Down
                "1":
                  color: green
                  index: 0
                  text: Up
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides: []
        gridPos:
          h: 4
          w: 4
          x: 0
          "y": 6
        id: 126
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_system_status{instance=~"${bazarr_instance}"}
          instant: true
          legendFormat: Status
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: thresholds
            mappings:
            - options:
                "0":
                  color: red
                  index: 1
                  text: Down
                "1":
                  color: green
                  index: 0
                  text: Up
              type: value
            thresholds:
              mode: absolute
              steps:
              - color: red
              - color: semi-dark-orange
                value: 600
              - color: yellow
                value: 3600
              - color: green
                value: 86400
            unit: s
          overrides: []
        gridPos:
          h: 4
          w: 5
          x: 4
          "y": 6
        id: 127
        options:
          colorMode: background
          graphMode: area
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: time() - container_start_time_seconds{container="bazarr"}
          instant: true
          legendFormat: Uptime
          range: false
          refId: A
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: hue
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              insertNulls: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 3
              scaleDistribution:
                type: linear
              showPoints: auto
              spanNulls: false
              stacking:
                group: A
                mode: none
              thresholdsStyle:
                mode: "off"
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: binBps
          overrides: []
        gridPos:
          h: 8
          w: 12
          x: 12
          "y": 6
        id: 119
        options:
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: true
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(irate(container_network_transmit_bytes_total{pod=~"sabnzbd.*"}[$__rate_interval]))
          legendFormat: Network Transmit
          range: true
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: sum(irate(container_network_receive_bytes_total{pod=~"sabnzbd.*"}[$__rate_interval]))
            * -1
          hide: false
          legendFormat: Network Receive
          range: true
          refId: B
        title: Network
        type: timeseries
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisLabel: ""
              axisPlacement: auto
              barAlignment: 0
              drawStyle: line
              fillOpacity: 10
              gradientMode: hue
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              insertNulls: false
              lineInterpolation: linear
              lineWidth: 1
              pointSize: 3
              scaleDistribution:
                type: linear
              showPoints: auto
              spanNulls: false
              stacking:
                group: A
                mode: none
              thresholdsStyle:
                mode: "off"
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: binBps
          overrides: []
        gridPos:
          h: 8
          w: 12
          x: 0
          "y": 10
        id: 118
        options:
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: true
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: avg(rate(sabnzbd_server_downloaded_bytes[$__rate_interval])) by (server)
          legendFormat: __auto
          range: true
          refId: A
        title: Download Rate
        type: timeseries
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
            unit: none
          overrides: []
        gridPos:
          h: 4
          w: 24
          x: 0
          "y": 18
        id: 128
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text:
            valueSize: 60
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_queue_total{instance=~"${bazarr_instance}"}
          hide: false
          instant: false
          legendFormat: Queued
          range: true
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_history_total{instance=~"${bazarr_instance}"}
          hide: false
          instant: false
          legendFormat: History
          range: true
          refId: C
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_subtitles_downloaded_total{instance=~"${bazarr_instance}"}
          hide: false
          instant: false
          legendFormat: Downloaded
          range: true
          refId: D
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_subtitles_monitored_total{instance=~"${bazarr_instance}"}
          hide: false
          instant: false
          legendFormat: Monitored
          range: true
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_subtitles_unmonitored_total{instance=~"${bazarr_instance}"}
          hide: false
          instant: false
          legendFormat: Unmonitored
          range: true
          refId: E
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_subtitles_missing_total{instance=~"${bazarr_instance}"}
          hide: false
          instant: false
          legendFormat: Missing
          range: true
          refId: F
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_subtitles_wanted_total{instance=~"${bazarr_instance}"}
          hide: false
          instant: false
          legendFormat: Wanted
          range: true
          refId: G
        title: Subtitle Totals
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
            unit: none
          overrides: []
        gridPos:
          h: 4
          w: 12
          x: 0
          "y": 22
        id: 129
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: max(bazarr_episode_subtitles_monitored_total{instance=~"${bazarr_instance}"})
          hide: false
          legendFormat: Monitored
          range: true
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: max(bazarr_episode_subtitles_downloaded_total{instance=~"${bazarr_instance}"})
          hide: false
          legendFormat: Total
          range: true
          refId: D
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: max(bazarr_episode_subtitles_unmonitored_total{instance=~"${bazarr_instance}"})
          hide: false
          legendFormat: Unmonitored
          range: true
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          expr: max(bazarr_episode_subtitles_wanted_total{instance=~"${bazarr_instance}"})
          hide: false
          legendFormat: Wanted
          range: true
          refId: C
        title: Episode Subtitles
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
            unit: none
          overrides: []
        gridPos:
          h: 4
          w: 12
          x: 12
          "y": 22
        id: 130
        options:
          colorMode: value
          graphMode: none
          justifyMode: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showPercentChange: false
          text: {}
          textMode: auto
          wideLayout: true
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: max(bazarr_movie_subtitles_downloaded_total{instance=~"${bazarr_instance}"})
          hide: false
          instant: false
          legendFormat: Total
          range: true
          refId: B
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: max(bazarr_movie_subtitles_monitored_total{instance=~"${bazarr_instance}"})
          hide: false
          instant: false
          legendFormat: Monitored
          range: true
          refId: D
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: max(bazarr_movie_subtitles_unmonitored_total{instance=~"${bazarr_instance}"})
          hide: false
          instant: false
          legendFormat: Unmonitored
          range: true
          refId: A
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: max(bazarr_movie_subtitles_wanted_total{instance=~"${bazarr_instance}"})
          hide: false
          instant: false
          legendFormat: Wanted
          range: true
          refId: C
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: max(bazarr_movie_subtitles_missing_total{instance=~"${bazarr_instance}"})
          hide: false
          instant: false
          legendFormat: Missing
          range: true
          refId: E
        title: Movie Subtitles
        type: stat
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: bytes
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 0
          "y": 26
        id: 96
        options:
          displayMode: lcd
          maxVizHeight: 300
          minVizHeight: 10
          minVizWidth: 0
          namePlacement: auto
          orientation: horizontal
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showUnfilled: true
          sizing: auto
          valueMode: color
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: sabnzbd_server_downloaded_bytes{instance=~"${sabnzbd_instance}"}
          format: time_series
          instant: true
          legendFormat: '{{server}}'
          range: false
          refId: A
        title: Lifetime Downloads By Server
        type: bargauge
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            mappings: []
            min: 0
            thresholds:
              mode: absolute
              steps:
              - color: green
            unit: bytes
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 8
          "y": 26
        id: 98
        options:
          displayMode: lcd
          maxVizHeight: 300
          minVizHeight: 10
          minVizWidth: 0
          namePlacement: auto
          orientation: horizontal
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showUnfilled: true
          sizing: auto
          valueMode: color
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: avg(increase(sabnzbd_server_downloaded_bytes{instance=~"${sabnzbd_instance}"}[$__range]))
            by (server)
          format: time_series
          instant: true
          legendFormat: '{{server}}'
          range: false
          refId: A
        title: Recent Downloaded By Server
        type: bargauge
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              hideFrom:
                legend: false
                tooltip: false
                viz: false
            mappings:
            - options:
                NaN:
                  index: 0
                  text: N/A
              type: value
            min: 0
            unit: bytes
          overrides: []
        gridPos:
          h: 9
          w: 8
          x: 16
          "y": 26
        id: 100
        options:
          displayLabels:
          - name
          - value
          legend:
            displayMode: list
            placement: bottom
            showLegend: false
          pieType: donut
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
        pluginVersion: 9.5.1
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: avg(increase(sabnzbd_server_downloaded_bytes{instance=~"${sabnzbd_instance}"}[$__range]))
            by (server)
          format: time_series
          instant: true
          legendFormat: '{{server}}'
          range: false
          refId: A
        title: Recent Download Percent
        type: piechart
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: palette-classic
            custom:
              axisBorderShow: false
              axisCenteredZero: false
              axisColorMode: text
              axisGridShow: true
              axisLabel: ""
              axisPlacement: auto
              fillOpacity: 80
              gradientMode: none
              hideFrom:
                legend: false
                tooltip: false
                viz: false
              lineWidth: 1
              scaleDistribution:
                type: linear
              thresholdsStyle:
                mode: "off"
            displayName: ${__field.displayName}
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
            unit: none
          overrides: []
        gridPos:
          h: 19
          w: 12
          x: 0
          "y": 35
        id: 137
        options:
          barRadius: 0.5
          barWidth: 1
          fullHighlight: false
          groupWidth: 1
          legend:
            calcs: []
            displayMode: list
            placement: bottom
            showLegend: false
          orientation: horizontal
          showValue: auto
          stacking: none
          tooltip:
            maxHeight: 600
            mode: single
            sort: none
          xField: score
          xTickLabelRotation: 0
          xTickLabelSpacing: 0
        pluginVersion: 10.1.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_subtitles_score_total{instance=~"${bazarr_instance}"}
          format: table
          instant: true
          legendFormat: '{{score}}'
          range: false
          refId: A
        title: Scores
        type: barchart
      - datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        fieldConfig:
          defaults:
            color:
              mode: continuous-BlPu
            displayName: ${__field.displayName}
            mappings: []
            thresholds:
              mode: absolute
              steps:
              - color: green
              - color: red
                value: 80
          overrides: []
        gridPos:
          h: 9
          w: 12
          x: 12
          "y": 35
        id: 136
        options:
          displayMode: lcd
          maxVizHeight: 300
          minVizHeight: 10
          minVizWidth: 0
          namePlacement: auto
          orientation: auto
          reduceOptions:
            calcs:
            - lastNotNull
            fields: ""
            values: false
          showUnfilled: true
          sizing: auto
          valueMode: color
        pluginVersion: 11.0.0
        targets:
        - datasource:
            type: prometheus
            uid: PBFA97CFB590B2093
          editorMode: code
          exemplar: false
          expr: bazarr_subtitles_provider_total{instance=~"${bazarr_instance}"}
          format: time_series
          instant: false
          legendFormat: '{{provider}}'
          range: true
          refId: A
        title: Providers
        type: bargauge
      repeat: bazarr_instance
      repeatDirection: h
      title: Bazarr - ${bazarr_instance}
      type: row
    refresh: 30s
    revision: 1
    schemaVersion: 39
    tags:
    - sonarr
    - readarr
    - radarr
    - sabnzbd
    - music
    - movies
    - tv
    - media
    templating:
      list:
      - current:
          selected: false
          text: Prometheus
          value: PBFA97CFB590B2093
        hide: 0
        includeAll: false
        label: Datasource
        multi: false
        name: DS_PROMETHEUS
        options: []
        query: prometheus
        queryValue: ""
        refresh: 1
        regex: ""
        skipUrlSync: false
        type: datasource
      - current:
          selected: true
          text:
          - media-exportarr-sabnzbd.media.svc.cluster.local:9707
          value:
          - media-exportarr-sabnzbd.media.svc.cluster.local:9707
        datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        definition: label_values({__name__=~"sabnzbd_.*"},instance)
        hide: 0
        includeAll: true
        label: SABnzbd Instance
        multi: true
        name: sabnzbd_instance
        options: []
        query:
          query: label_values({__name__=~"sabnzbd_.*"},instance)
          refId: PrometheusVariableQueryEditor-VariableQuery
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 0
        type: query
      - current:
          selected: true
          text:
          - media-exportarr-radarr.media.svc.cluster.local:9707
          value:
          - media-exportarr-radarr.media.svc.cluster.local:9707
        datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        definition: label_values({__name__=~"radarr_.*"},instance)
        hide: 0
        includeAll: true
        label: Radarr Instance
        multi: true
        name: radarr_instance
        options: []
        query:
          query: label_values({__name__=~"radarr_.*"},instance)
          refId: PrometheusVariableQueryEditor-VariableQuery
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 0
        type: query
      - current:
          selected: true
          text:
          - media-exportarr-sonarr.media.svc.cluster.local:9707
          value:
          - media-exportarr-sonarr.media.svc.cluster.local:9707
        datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        definition: label_values({__name__=~"sonarr_.*"},instance)
        hide: 0
        includeAll: true
        label: Sonarr Instance
        multi: true
        name: sonarr_instance
        options: []
        query:
          query: label_values({__name__=~"sonarr_.*"},instance)
          refId: PrometheusVariableQueryEditor-VariableQuery
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 0
        type: query
      - current:
          selected: true
          text:
          - media-exportarr-readarr.media.svc.cluster.local:9707
          value:
          - media-exportarr-readarr.media.svc.cluster.local:9707
        datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        definition: label_values({__name__=~"readarr_.*"},instance)
        hide: 0
        includeAll: true
        label: Readarr Instance
        multi: true
        name: readarr_instance
        options: []
        query:
          query: label_values({__name__=~"readarr_.*"},instance)
          refId: PrometheusVariableQueryEditor-VariableQuery
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 0
        type: query
      - current:
          selected: true
          text:
          - All
          value:
          - $__all
        datasource:
          type: prometheus
          uid: PBFA97CFB590B2093
        definition: label_values({__name__=~"bazarr_.*"},instance)
        hide: 0
        includeAll: true
        label: Bazarr Instance
        multi: true
        name: bazarr_instance
        options: []
        query:
          query: label_values({__name__=~"bazarr_.*"},instance)
          refId: PrometheusVariableQueryEditor-VariableQuery
        refresh: 2
        regex: ""
        skipUrlSync: false
        sort: 0
        type: query
    time:
      from: now-24h
      to: now
    timeRangeUpdatedDuringEditOrView: false
    timepicker: {}
    timezone: browser
    title: Media Dashboard
    uid: WURH98Y4k
    version: 3
    weekStart: ""
kind: ConfigMap
metadata:
  labels:
    grafana_dashboard: "true"
  name: media-dashboard
  namespace: monitoring
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana
  namespace: monitoring
spec:
  ports:
  - name: service
    port: 80
    protocol: TCP
    targetPort: 3000
  selector:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/name: grafana
  type: ClusterIP
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  finalizers:
  - kubernetes.io/pvc-protection
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana
  namespace: monitoring
spec:
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: 10Gi
  storageClassName: nfs-client
---
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana
  namespace: monitoring
spec:
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app.kubernetes.io/instance: monitoring
      app.kubernetes.io/name: grafana
  strategy:
    type: RollingUpdate
  template:
    metadata:
      annotations:
        checksum/config: d1cd1f30fa9a5f19b721cb5d19253735d9f5ef72eafdf67d9b446941bd294767
        checksum/sc-dashboard-provider-config: e70bf6a851099d385178a76de9757bb0bef8299da6d8443602590e44f05fdf24
        kubectl.kubernetes.io/default-container: grafana
      labels:
        app.kubernetes.io/instance: monitoring
        app.kubernetes.io/name: grafana
    spec:
      automountServiceAccountToken: true
      containers:
      - env:
        - name: METHOD
          value: WATCH
        - name: LABEL
          value: grafana_alert
        - name: FOLDER
          value: /etc/grafana/provisioning/alerting
        - name: RESOURCE
          value: both
        - name: REQ_USERNAME
          valueFrom:
            secretKeyRef:
              key: admin-user
              name: grafana-credentials-secret
        - name: REQ_PASSWORD
          valueFrom:
            secretKeyRef:
              key: admin-password
              name: grafana-credentials-secret
        - name: REQ_URL
          value: http://monitoring-grafana/api/admin/provisioning/alerting/reload
        - name: REQ_METHOD
          value: POST
        image: quay.io/kiwigrid/k8s-sidecar:1.26.1
        imagePullPolicy: IfNotPresent
        name: grafana-sc-alerts
        resources:
          limits:
            cpu: 100m
            memory: 100Mi
          requests:
            cpu: 50m
            memory: 50Mi
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          seccompProfile:
            type: RuntimeDefault
        volumeMounts:
        - mountPath: /etc/grafana/provisioning/alerting
          name: sc-alerts-volume
      - env:
        - name: METHOD
          value: WATCH
        - name: LABEL
          value: grafana_dashboard
        - name: LABEL_VALUE
          value: "true"
        - name: FOLDER
          value: /tmp/dashboards
        - name: RESOURCE
          value: both
        - name: REQ_USERNAME
          valueFrom:
            secretKeyRef:
              key: admin-user
              name: grafana-credentials-secret
        - name: REQ_PASSWORD
          valueFrom:
            secretKeyRef:
              key: admin-password
              name: grafana-credentials-secret
        - name: REQ_URL
          value: http://monitoring-grafana/api/admin/provisioning/dashboards/reload
        - name: REQ_METHOD
          value: POST
        image: quay.io/kiwigrid/k8s-sidecar:1.26.1
        imagePullPolicy: IfNotPresent
        name: grafana-sc-dashboard
        resources:
          limits:
            cpu: 100m
            memory: 100Mi
          requests:
            cpu: 50m
            memory: 50Mi
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          seccompProfile:
            type: RuntimeDefault
        volumeMounts:
        - mountPath: /tmp/dashboards
          name: sc-dashboard-volume
      - env:
        - name: METHOD
          value: WATCH
        - name: LABEL
          value: grafana_datasource
        - name: LABEL_VALUE
          value: "true"
        - name: LOG_LEVEL
          value: DEBUG
        - name: FOLDER
          value: /etc/grafana/provisioning/datasources
        - name: RESOURCE
          value: both
        - name: REQ_USERNAME
          valueFrom:
            secretKeyRef:
              key: admin-user
              name: grafana-credentials-secret
        - name: REQ_PASSWORD
          valueFrom:
            secretKeyRef:
              key: admin-password
              name: grafana-credentials-secret
        - name: REQ_URL
          value: http://monitoring-grafana/api/admin/provisioning/datasources/reload
        - name: REQ_METHOD
          value: POST
        image: quay.io/kiwigrid/k8s-sidecar:1.26.1
        imagePullPolicy: IfNotPresent
        name: grafana-sc-datasources
        resources:
          limits:
            cpu: 100m
            memory: 100Mi
          requests:
            cpu: 50m
            memory: 50Mi
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          seccompProfile:
            type: RuntimeDefault
        volumeMounts:
        - mountPath: /etc/grafana/provisioning/datasources
          name: sc-datasources-volume
      - env:
        - name: METHOD
          value: WATCH
        - name: LABEL
          value: grafana_notifier
        - name: FOLDER
          value: /etc/grafana/provisioning/notifiers
        - name: RESOURCE
          value: both
        - name: REQ_USERNAME
          valueFrom:
            secretKeyRef:
              key: admin-user
              name: grafana-credentials-secret
        - name: REQ_PASSWORD
          valueFrom:
            secretKeyRef:
              key: admin-password
              name: grafana-credentials-secret
        - name: REQ_URL
          value: http://monitoring-grafana/api/admin/provisioning/notifications/reload
        - name: REQ_METHOD
          value: POST
        image: quay.io/kiwigrid/k8s-sidecar:1.26.1
        imagePullPolicy: IfNotPresent
        name: grafana-sc-notifiers
        resources:
          limits:
            cpu: 100m
            memory: 100Mi
          requests:
            cpu: 50m
            memory: 50Mi
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          seccompProfile:
            type: RuntimeDefault
        volumeMounts:
        - mountPath: /etc/grafana/provisioning/notifiers
          name: sc-notifiers-volume
      - env:
        - name: METHOD
          value: WATCH
        - name: LABEL
          value: grafana_plugin
        - name: FOLDER
          value: /etc/grafana/provisioning/plugins
        - name: RESOURCE
          value: both
        - name: REQ_USERNAME
          valueFrom:
            secretKeyRef:
              key: admin-user
              name: grafana-credentials-secret
        - name: REQ_PASSWORD
          valueFrom:
            secretKeyRef:
              key: admin-password
              name: grafana-credentials-secret
        - name: REQ_URL
          value: http://monitoring-grafana/api/admin/provisioning/plugins/reload
        - name: REQ_METHOD
          value: POST
        image: quay.io/kiwigrid/k8s-sidecar:1.26.1
        imagePullPolicy: IfNotPresent
        name: grafana-sc-plugins
        resources:
          limits:
            cpu: 100m
            memory: 100Mi
          requests:
            cpu: 50m
            memory: 50Mi
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          seccompProfile:
            type: RuntimeDefault
        volumeMounts:
        - mountPath: /etc/grafana/provisioning/plugins
          name: sc-plugins-volume
      - env:
        - name: POD_IP
          valueFrom:
            fieldRef:
              fieldPath: status.podIP
        - name: GF_SECURITY_ADMIN_USER
          valueFrom:
            secretKeyRef:
              key: admin-user
              name: grafana-credentials-secret
        - name: GF_SECURITY_ADMIN_PASSWORD
          valueFrom:
            secretKeyRef:
              key: admin-password
              name: grafana-credentials-secret
        - name: GF_PATHS_DATA
          value: /var/lib/grafana/
        - name: GF_PATHS_LOGS
          value: /var/log/grafana
        - name: GF_PATHS_PLUGINS
          value: /var/lib/grafana/plugins
        - name: GF_PATHS_PROVISIONING
          value: /etc/grafana/provisioning
        image: docker.io/grafana/grafana:11.0.0
        imagePullPolicy: IfNotPresent
        livenessProbe:
          failureThreshold: 10
          httpGet:
            path: /api/health
            port: 3000
          initialDelaySeconds: 60
          timeoutSeconds: 30
        name: grafana
        ports:
        - containerPort: 3000
          name: grafana
          protocol: TCP
        - containerPort: 9094
          name: gossip-tcp
          protocol: TCP
        - containerPort: 9094
          name: gossip-udp
          protocol: UDP
        readinessProbe:
          httpGet:
            path: /api/health
            port: 3000
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          seccompProfile:
            type: RuntimeDefault
        volumeMounts:
        - mountPath: /etc/grafana/grafana.ini
          name: config
          subPath: grafana.ini
        - mountPath: /var/lib/grafana
          name: storage
        - mountPath: /etc/grafana/provisioning/alerting
          name: sc-alerts-volume
        - mountPath: /tmp/dashboards
          name: sc-dashboard-volume
        - mountPath: /etc/grafana/provisioning/dashboards/sc-dashboardproviders.yaml
          name: sc-dashboard-provider
          subPath: provider.yaml
        - mountPath: /etc/grafana/provisioning/datasources
          name: sc-datasources-volume
        - mountPath: /etc/grafana/provisioning/plugins
          name: sc-plugins-volume
        - mountPath: /etc/grafana/provisioning/notifiers
          name: sc-notifiers-volume
      enableServiceLinks: true
      initContainers: null
      securityContext:
        fsGroup: 100
        runAsGroup: 100
        runAsNonRoot: true
        runAsUser: 99
      serviceAccountName: monitoring-grafana
      volumes:
      - configMap:
          name: monitoring-grafana
        name: config
      - name: storage
        persistentVolumeClaim:
          claimName: monitoring-grafana
      - emptyDir: {}
        name: sc-alerts-volume
      - emptyDir: {}
        name: sc-dashboard-volume
      - configMap:
          name: monitoring-grafana-config-dashboards
        name: sc-dashboard-provider
      - emptyDir: {}
        name: sc-datasources-volume
      - emptyDir: {}
        name: sc-plugins-volume
      - emptyDir: {}
        name: sc-notifiers-volume
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana
  namespace: monitoring
spec:
  ingressClassName: nginx
  rules:
  - host: grafana.k8s.integratn.tech
    http:
      paths:
      - backend:
          service:
            name: monitoring-grafana
            port:
              number: 80
        path: /
        pathType: Prefix
  tls:
  - hosts:
    - grafana.k8s.integratn.tech
    secretName: grafana-tls
---
apiVersion: onepassword.com/v1
kind: OnePasswordItem
metadata:
  name: grafana-credentials-secret
  namespace: monitoring
spec:
  itemPath: vaults/homelab/items/grafana-credentials-secret
---
apiVersion: v1
kind: Pod
metadata:
  annotations:
    helm.sh/hook: test-success
    helm.sh/hook-delete-policy: before-hook-creation,hook-succeeded
  labels:
    app.kubernetes.io/instance: monitoring
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 11.0.0
    helm.sh/chart: grafana-8.0.2
  name: monitoring-grafana-test
  namespace: monitoring
spec:
  containers:
  - command:
    - /opt/bats/bin/bats
    - -t
    - /tests/run.sh
    image: docker.io/bats/bats:v1.4.1
    imagePullPolicy: IfNotPresent
    name: monitoring-test
    volumeMounts:
    - mountPath: /tests
      name: tests
      readOnly: true
  restartPolicy: Never
  serviceAccountName: monitoring-grafana-test
  volumes:
  - configMap:
      name: monitoring-grafana-test
    name: tests
